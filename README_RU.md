# FM Приемник на STM32 с QN8035

Этот проект реализует FM-приемник с использованием микроконтроллера STM32 и FM-тюнера QN8035.

## Аппаратные особенности

- МК: STM32F103 (Blue Pill)
- FM Тюнер: QN8035
- Дисплей: OLED SSD1306 128x64 (I2C)
- Управление: Энкодер с кнопкой, кнопки ВВЕРХ/ВНИЗ, кнопка ПИТАНИЕ
- Интерфейс: I2C для управления тюнером и дисплеем

## Характеристики

- FM Диапазон: 60-110 МГц
- Регулировка громкости: 8 уровней (0-7)
- Поддержка RDS: Да
- Питание: От батареи с контролем напряжения
- Информация на дисплее: Частота, Громкость, Стерео/Моно, Качество сигнала (С/Ш), RSSI, RDS текст

## Управление

- Энкодер:
  - Вращение: Изменение частоты (шаг 0.05 МГц) или громкости
  - Нажатие: Переключение между режимами настройки частоты/громкости
- Кнопка ВВЕРХ: Переключение режима Стерео/Моно
- Кнопка ВНИЗ: Уменьшение частоты
- Кнопка ПИТАНИЕ: Выключение устройства
- ВВЕРХ + ВНИЗ (удержание): Выключение устройства

## Сборка и Прошивка

Проект использует PlatformIO для сборки и прошивки. Для сборки:

1. Установите PlatformIO
2. Откройте проект в PlatformIO
3. Соберите и загрузите в вашу плату STM32F103

## Конфигурация Выводов

- PB0: Кнопка ПИТАНИЕ (INPUT_PULLUP)
- PB1: Кнопка ВНИЗ (INPUT_PULLUP)
- PB2: Кнопка ВВЕРХ (INPUT_PULLUP)
- PA15: Светодиод индикации
- PB10: Светодиод индикации
- PA5: Кнопка энкодера
- PA6/PB7: Входы энкодера
- I2C Выводы (для OLED и QN8035):
  - PB6: SCL
  - PB7: SDA

## Функции

- Цифровое управление громкостью
- Отображение RDS текста
- Индикация качества сигнала
- Мониторинг уровня батареи
- Переключение Стерео/Моно
- Точная настройка энкодером
- Сохранение настроек
- Режим энергосбережения
